#!/bin/bash
# Run the Joseki RDF server 
# $Id: rdfserver,v 1.1 2006/05/03 20:37:15 cyganiak Exp $

[ "$JOSEKIROOT" = "" ] && { echo "JOSEKIROOT unset" 1>&2 ; exit 1 ; }

# Make sure all the scripts are on the PATH
CP="$($JOSEKIROOT/bin/joseki_path)"

## ============= java logging
## ## If you use Java.util.logging ...
## ## See etc/logging-file.properties for an example of logging to a file.
## LOGCONFIG=${LOGCONFIG:-etc/logging.properties}
## LOG1="-Djava.util.logging.config.file=${LOGCONFIG}"
## LOG2="-Dorg.apache.commons.logging.Log=org.apache.commons.logging.impl.Jdk14Logger"
## LOG="$LOG1 $LOG2"

## ============= log4j logging
## See etc/log4j-file.properties for an example of logging to a file.

LOGCONFIG=${LOGCONFIG:-file:$JOSEKIROOT/etc/log4j.properties}
#LOGCONFIG="file:$JOSEKIROOT/etc/log4j-detail.properties"

LOG1="-Dlog4j.configuration=${LOGCONFIG}"
#LOG2="-Dorg.apache.commons.logging.Log=org.apache.commons.logging.impl.Log4JLogger"
LOG="$LOG1 $LOG2"

## ============= 
## Check if there are copies of the joseki.jar in lib
## and the webapps directory





exec java -cp "$CP" $LOG joseki.rdfserver "$@"
