@prefix rdf:        <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs:       <http://www.w3.org/2000/01/rdf-schema#> .
@prefix owl:        <http://www.w3.org/2002/07/owl#> .
@prefix dc:         <http://purl.org/dc/elements/1.1/> .
@prefix dtype:      <http://www.w3.org/2001/XMLSchema#> . 

# -----------------------------------------------
#
# D2RQ Language Specification V0.1
#
# -----------------------------------------------

<> rdfs:comment     "Database to RDF Query Vocabulary" ;
   dc:creator       "Chris Bizer" ;
   dc:subject       "" ;
   dc:publisher     "" ;
   dc:title         "" ;
   dc:description   "" ;
   dc:date          "2004-06-16" ;
   dc:format        "RDF" ;
   dc:identifier    <> ;
   .


# D2RQ Namespace
@prefix :       <http://www.wiwiss.fu-berlin.de/suhl/bizer/D2RQ/0.1#> .


# -----------------------------------------------
# Database
# -----------------------------------------------

:Database 	rdf:type rdfs:Class ;
    		rdfs:comment "Represents a database" 
    		.

:odbcDSN    	rdf:type rdf:Property ;
	   	rdfs:domain :Database
            	.
:jdbcDriver 	rdf:type rdf:Property ;
            	rdfs:domain :Database
            	.
:jdbcDSN    	rdf:type rdf:Property ;
            	rdfs:domain :Database
            	.
:username   	rdf:type rdf:Property ;
            	rdfs:domain :Database
            	.
:password   	rdf:type rdf:Property ;
            	rdfs:domain :Database
            	.
:numericColumn  rdf:type rdf:Property ;
                rdfs:domain :Database
                .
:textColumn     rdf:type rdf:Property ;
                rdfs:domain :Database
                .
:dateColumn     rdf:type rdf:Property ;
                rdfs:domain :Database
                .


# -----------------------------------------------
# Class Map
# -----------------------------------------------

:ClassMap 	rdf:type rdfs:Class ;
    		rdfs:comment "Maps a class in the ontology to its relational representation in a specific database." 
    		.

:class          rdf:type rdf:Property ;
                rdfs:comment "Links d2rq:classMaps to RDFS or OWL classes." ;
                rdfs:domain :ClassMap ;
                rdfs:range rdfs:Class ;
                owl:inverseOf :classMap
                .
:uriPattern  	rdf:type rdf:Property ;
             	rdfs:comment "Pattern used for URI construction and reversing."; 
             	rdfs:domain :ClassMap
             	.
:uriColumn   	rdf:type rdf:Property ;
             	rdfs:comment "Database column which contains object URIs.";
             	rdfs:domain :ClassMap
             	.
:bNodeIdColumns	rdf:type rdf:Property ;
             	rdfs:comment "Database column or columns which contain the primary key information about an which is identified by an bNode in RDF.";
             	rdfs:domain :ClassMap
             	.
:dataStorage 	rdf:type rdf:Property ;
             	rdfs:domain :ClassMap ;
             	rdfs:range  :Database
             	.
:additionalProperty rdf:type rdf:Property ;
             	rdfs:domain :ClassMap ;
             	rdfs:range  :AdditionalProperty
             	.

# -----------------------------------------------
# Class Map Property
# -----------------------------------------------

:classMap        rdf:type rdf:Property ;
                 rdfs:comment "Used to link RDFS or OWL classes to d2r:classMaps." ;
                 rdfs:domain rdfs:Class ;
                 rdfs:range  :ClassMap ;
                 owl:inverseOf :class
                 .


# -----------------------------------------------
# Property Bridge
# -----------------------------------------------

:PropertyBridge rdf:type rdfs:Class ;
             	rdfs:comment "Abstract Superclass of DatatypePropertyBridge and ObjectPropertyBridge" 
             	.

:property       rdf:type rdf:Property ;
                rdf:comment "Links a d2rq:PropertyBridge to an RDF property." ;
                rdfs:domain :PropertyBridge ;
                rdfs:range rdf:Property ;
                owl:inverseOf :propertyBridge
                .
:column      	rdf:type rdf:Property ;
             	rdfs:domain :PropertyBridge
             	.
:join        	rdf:type rdf:Property ;
             	rdfs:domain :PropertyBridge 
             	.
:pattern     	rdf:type rdf:Property ;
             	rdfs:domain :PropertyBridge
             	.
:belongsToClassMap rdf:type rdf:Property ;
             	rdfs:domain :PropertyBridge ;
             	rdfs:range  :ClassMap
             	.
:translateWith rdf:type rdf:Property ;
             	rdfs:domain :PropertyBridge ;
             	rdfs:range  :TranslationTable
             	.
:valueContains  rdf:type rdf:Property ;
                rdfs:domain :PropertyBridge ;
                rdfs:comment "Optimizing hint: a string contained in every value of this PropertyBridge"
                .
:valueRegex     rdf:type rdf:Property ;
                rdfs:domain :PropertyBridge ;
                rdfs:comment "Optimizing hint: a regular expression matching every value of this PropertyBridge"
                .
:valueMaxLength rdf:type rdf:Property ;
                rdfs:domain :PropertyBridge ;
                rdfs:comment "Optimizing hint: the maximum length of values of this PropertyBridge"
                .


# -----------------------------------------------
# Datatype Property Bridge
# -----------------------------------------------

:DatatypePropertyBridge rdf:type rdfs:Class ;
             	rdfs:subClassOf :PropertyBridge ;
             	rdfs:comment "Maps a datatype property to a column in a specific database." 
             	.
:datatype    	rdf:type rdf:Property ;
             	rdfs:domain :DatatypePropertyBridge
             	.
:lang        	rdf:type rdf:Property ;
             	rdfs:domain :DatatypePropertyBridge
             	.


# -----------------------------------------------
# Object Property Bridge
# -----------------------------------------------

:ObjectPropertyBridge rdf:type rdfs:Class ;
             	rdfs:subClassOf :PropertyBridge ;
             	rdfs:comment "Maps a object property to a column in a specific database." 
             	.

:refersToClassMap rdf:type rdf:Property ;
             	rdfs:domain :ObjectPropertyBridge ;
             	rdfs:comment "Has to be used if a join refers to a different classMap."; 
             	rdfs:range  :ClassMap
             	.

# -----------------------------------------------
# Property Bridge Property
# -----------------------------------------------

:propertyBridge  rdf:type rdf:Property ;
                 rdfs:comment "Used for linking RDFS properties to D2R property bridges." ;
                 rdfs:domain rdf:Property ;
                 rdfs:range  :PropertyBridge ;
                 owl:inverseOf :property
                 .


# -----------------------------------------------
# Properties for Class Map and Property Bridge
# -----------------------------------------------

:condition      rdf:type rdf:Property ;
             	rdfs:comment "Additional SQL WHERE condition"
             	.
# rdfs:domain of d2rq:condition is d2rq:ClassMap and d2rq:PropertyBridge.


# -----------------------------------------------
# Additional Property Definition
# -----------------------------------------------

:AdditionalProperty rdf:type rdfs:Class ;
    		rdfs:comment "Adds an additonal property to a class if D2R Map is used for DB exports, not DB queries." 
    		.

:propertyName rdf:type rdf:Property ;
            	rdfs:domain :AdditionalProperty
            	.
:propertyValue rdf:type rdf:Property ;
            	rdfs:domain :AdditionalProperty
            	.            
                       

# -----------------------------------------------
# Translation Table
# -----------------------------------------------

:TranslationTable rdf:type rdfs:Class ;
             	rdfs:comment "Lookup table for translations used in the mapping process." 
             	.
:href rdf:type rdf:Property ;
             	rdfs:domain :TranslationTable;
             	rdfs:comment "Link to a translation table in an external CSV file."
             	.
:javaClass      rdf:type rdf:Property ;
             	rdfs:comment "Qualified name of a Java class that implements de.fuberlin.wiwiss.d2rq.Translator and translates between database and RDF."; 
             	rdfs:domain :ClassMap
             	.
:translation 	rdf:type rdf:Property ;
             	rdfs:domain :TranslationTable;
             	rdfs:range  :Translation
             	.
:Translation 	rdf:type rdfs:Class ;
             	rdfs:comment "Translation Key/Value Pair." 
             	.
:databaseValue rdf:type rdf:Property ;
             	rdfs:domain :Translation
             	.
:rdfValue	rdf:type rdf:Property ;
             	rdfs:domain :Translation
             	.
