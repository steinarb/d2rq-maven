# cat ISWC-d2rq.n3 ISWC-Citations-d2rq.n3 > ISWC-2DB-d2rq.n3

# Namespace of the database
@prefix db2:       <http://www.example.org/dbserver02/db02#> .

# -----------------------------------------------
# Database 2
# -----------------------------------------------

db2:Database2 rdf:type d2rq:Database;

	# MySQL database connection
        d2rq:jdbcDriver "com.mysql.jdbc.Driver";
        #d2rq:jdbcDSN "jdbc:mysql:///iswccitations?user=root";
        # grant SELECT on iswc.* to ''@localhost;
        d2rq:jdbcDSN "jdbc:mysql:///iswccitations?user=";
        # or setup MySQL DB with ODBC as myiswc and:
        #d2rq:odbcDSN "myiswc";
		d2rq:allowDistinct "true";
		d2rq:expressionTranslator "de.fuberlin.wiwiss.d2rq.rdql.MySQLExpressionTranslator";

	# ODBC database connection (e.g. MSAccess)
		#d2rq:odbcDSN "IswcCitationsDB";
		#d2rq:expressionTranslator "null";
		#d2rq:allowDistinct "false";

	# SQL "standard" issues of your database
		#d2rq:allowDistinct "true";
		#d2rq:allowDistinct "false";
		#d2rq:expressionTranslator "null";
		#d2rq:expressionTranslator "de.fuberlin.wiwiss.d2rq.rdql.ExpressionTranslator";
		#d2rq:expressionTranslator "de.fuberlin.wiwiss.d2rq.rdql.MySQLExpressionTranslator";

        d2rq:numericColumn "Citation.CitationID";
        d2rq:numericColumn "Citation.FromPaperID";
        d2rq:numericColumn "Citation.ToPaperID";
        d2rq:textColumn "Citation.Content"
        .

db2:Citation rdf:type d2rq:ClassMap;
            d2rq:class :Citation;
            d2rq:uriPattern "http://example.org/Citation@@Citation.CitationID@@";
            d2rq:dataStorage db2:Database2;
            .
            
db2:citingPaper rdf:type d2rq:DatatypePropertyBridge ;
            d2rq:property :citingPaper ;
            d2rq:pattern "http://www.conference.org/conf02004/paper#Paper@@Citation.FromPaperID@@" ;
            d2rq:belongsToClassMap db2:Citation 
            .            
            
db2:citedPaper rdf:type d2rq:DatatypePropertyBridge ;
            d2rq:property :citedPaper ;
            d2rq:pattern "http://www.conference.org/conf02004/paper#Paper@@Citation.ToPaperID@@" ;
            d2rq:belongsToClassMap db2:Citation 
            .            
            
db2:content rdf:type d2rq:DatatypePropertyBridge ;
            d2rq:property :content ;
            d2rq:column "Citation.Content" ; 
            d2rq:belongsToClassMap db2:Citation ;
            d2rq:lang "en" ; 
            d2rq:datatype xsd:string
            .            

